{"version":3,"sources":["/Users/keval/projects/atlas/doc/src/documents/Hook/Hook-Sqoop.md"],"names":["layoutProps","MDXLayout","MDXContent","_ref","components","props","Object","_Users_keval_projects_atlas_doc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__","assign","mdxType","id","parentName","className","href","isMDXComponent"],"mappings":"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","file":"static/js/documents-hook-hook-sqoop.4e3eab41.js","sourcesContent":["/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\n\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"apache-atlas-hook-for-apache-sqoop\"\n    }}>{`Apache Atlas Hook for Apache Sqoop`}</h1>\n    <h2 {...{\n      \"id\": \"sqoop-model\"\n    }}>{`Sqoop Model`}</h2>\n    <p>{`Sqoop model includes the following types:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Entity types:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`sqoop_process`}<ul parentName=\"li\">\n              <li parentName=\"ul\">{`super-types: Process`}</li>\n              <li parentName=\"ul\">{`attributes: qualifiedName, name, description, owner, inputs, outputs, operation, commandlineOpts, startTime, endTime, userName`}</li>\n            </ul></li>\n          <li parentName=\"ul\">{`sqoop_dbdatastore`}<ul parentName=\"li\">\n              <li parentName=\"ul\">{`super-types: !DataSet`}</li>\n              <li parentName=\"ul\">{`attributes: qualifiedName, name, description, owner, dbStoreType, storeUse, storeUri, source`}</li>\n            </ul></li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Enum types:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`sqoop_operation_type`}<ul parentName=\"li\">\n              <li parentName=\"ul\">{`values: IMPORT, EXPORT, EVAL`}</li>\n            </ul></li>\n          <li parentName=\"ul\">{`sqoop_dbstore_usage`}<ul parentName=\"li\">\n              <li parentName=\"ul\">{`values: TABLE, QUERY, PROCEDURE, OTHER`}</li>\n            </ul></li>\n        </ul>\n      </li>\n    </ul>\n    <p>{`Sqoop entities are created and de-duped in Atlas using unique attribute qualifiedName, whose value should be formatted as detailed below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`   sqoop_process.qualifiedName:     sqoop <operation> --connect <url> {[--table <tableName>] || [--database <databaseName>]} [--query <storeQuery>]\n   sqoop_dbdatastore.qualifiedName: <storeType> --url <storeUri> {[--table <tableName>] || [--database <databaseName>]} [--query <storeQuery>]  --hive-<operation> --hive-database <databaseName> [--hive-table <tableName>] --hive-cluster <clusterName>\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"sqoop-hook\"\n    }}>{`Sqoop Hook`}</h2>\n    <p>{`Sqoop added a !SqoopJobDataPublisher that publishes data to Atlas after completion of import Job. Today, only hiveImport is supported in !SqoopHook.\nThis is used to add entities in Atlas using the model detailed above.`}</p>\n    <p>{`Follow the instructions below to setup Atlas hook in Hive:`}</p>\n    <p>{`Add the following properties to  to enable Atlas hook in Sqoop:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Set-up Atlas hook in `}<inlineCode parentName=\"p\">{`<sqoop-conf>`}</inlineCode>{`/sqoop-site.xml by adding the following:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{` <property>\n   <name>sqoop.job.data.publish.class</name>\n   <value>org.apache.atlas.sqoop.hook.SqoopHook</value>\n </property>\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`untar apache-atlas-\\${project.version}-sqoop-hook.tar.gz`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`cd apache-atlas-sqoop-hook-\\${project.version}`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Copy entire contents of folder apache-atlas-sqoop-hook-\\${project.version}/hook/sqoop to `}<inlineCode parentName=\"p\">{`<atlas package>`}</inlineCode>{`/hook/sqoop`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Copy `}<inlineCode parentName=\"p\">{`<atlas-conf>`}</inlineCode>{`/atlas-application.properties to to the sqoop conf directory `}<inlineCode parentName=\"p\">{`<sqoop-conf>`}</inlineCode>{`/`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Link `}<inlineCode parentName=\"p\">{`<atlas package>`}</inlineCode>{`/hook/sqoop/*.jar in sqoop lib`}</p>\n      </li>\n    </ul>\n    <p>{`The following properties in atlas-application.properties control the thread pool and notification details:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`atlas.hook.sqoop.synchronous=false # whether to run the hook synchronously. false recommended to avoid delays in Sqoop operation completion. Default: false\natlas.hook.sqoop.numRetries=3      # number of retries for notification failure. Default: 3\natlas.hook.sqoop.queueSize=10000   # queue size for the threadpool. Default: 10000\n\natlas.cluster.name=primary # clusterName to use in qualifiedName of entities. Default: primary\n\natlas.kafka.zookeeper.connect=                    # Zookeeper connect URL for Kafka. Example: localhost:2181\natlas.kafka.zookeeper.connection.timeout.ms=30000 # Zookeeper connection timeout. Default: 30000\natlas.kafka.zookeeper.session.timeout.ms=60000    # Zookeeper session timeout. Default: 60000\natlas.kafka.zookeeper.sync.time.ms=20             # Zookeeper sync time. Default: 20\n`}</code></pre>\n    <p>{`Other configurations for Kafka notification producer can be specified by prefixing the configuration name with \"atlas.kafka.\". For list of configuration supported by Kafka producer, please refer to `}<a parentName=\"p\" {...{\n        \"href\": \"http://kafka.apache.org/documentation/#producerconfigs\"\n      }}>{`Kafka Producer Configs`}</a></p>\n    <h2 {...{\n      \"id\": \"notes\"\n    }}>{`NOTES`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Only the following sqoop operations are captured by sqoop hook currently`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`hiveImport`}</li>\n        </ul></li>\n    </ul>\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  "],"sourceRoot":""}